#include<LiquidCrystal.h>
#include<SoftwareSerial.h>
#include<Servo.h>
LiquidCrystal lcd(12,11,5,4,3,2);
SoftwareSerial myserial(9,10);
SoftwareSerial myserial1(11,12);

#define LEDPIN 12
char tag[] ="3C0087D597F9"; 

int count = 0;                                          // count = 0
char input[12];                                         // character array of size 12 
boolean flag = 0;                                       

int pos=0;

void setup()
{
lcd.begin(16,2);
lcd.clear();

Serial.begin(9600);                                  // begin serial port with baud rate 9600bps
mySerial.begin(9600);
pinMode(LEDPIN,OUTPUT); 

myservo.attach(9);  

}

void loop()
{


'''if(mySerial.available())
   {
      count = 0;
      while(mySerial.available() && count < 12)          // Read 12 characters and store them in input array
      {
         input[count] =mySerial.read();
         count++;
         delay(5);
      }
      Serial.print(input);                             // Print RFID tag number 
      
         }'''

if(mySerial.available())
	{
		count = 0; 
		while(mySerial.available() && count < 12) 
		{
			input[count] = mySerial.read(); 
                                          
                         Serial.write(input[count]);
			count++; 
			delay(5);
		}
		
		if(count == 12) 
		{
			count =0; 
			flag = 1;
			
			while(count<12 && flag !=0)  
			{
				if(input[count]==tag[count])
				flag = 1;
				else
				flag= 0; 
                               
				count++; 
			}
		}
		if(flag == 1) 
		{
			Serial.println("Access Allowed!");
			digitalWrite(LEDPIN,HIGH);

			lcd.print("u can proceed for parking");

  for (pos = 0; pos <= 90; pos += 1) { 
    myservo.write(pos);              
    delay(50);                       
  }
  for (pos = 90; pos >= 0; pos -= 1) { 
    myservo.write(pos);              
    delay(15);                       
  }

			



			delay (2000);
			digitalWrite (LEDPIN,LOW);
		}
		else
		{
			Serial.println("Access Denied"); 
			digitalWrite(LEDPIN,LOW);
			
			lcd.print("sorry we r enable to verify u!!!!!!!!");
			delay(2000);
				}
	
		for(count=0; count<12; count++) 
		{
			input[count]= 'F';
		}
		count = 0; 
	}



}
